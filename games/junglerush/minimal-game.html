<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JungleRush - Minimal Test</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: Arial, sans-serif;
        }
        #game-container {
            width: 1200px;
            height: 800px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        #status {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div id="status">Initializing...</div>
    <div id="game-container"></div>

    <script>
        const status = document.getElementById('status');
        
        function updateStatus(msg) {
            console.log(msg);
            status.innerHTML = msg;
        }

        updateStatus('Step 1: Phaser loaded');

        // Minimal BootScene
        class MinimalBootScene extends Phaser.Scene {
            constructor() {
                super('MinimalBootScene');
            }

            create() {
                updateStatus('Step 2: BootScene created');
                this.add.text(600, 400, 'Minimal Boot Scene Working!', {
                    fontSize: '32px',
                    fill: '#fff'
                }).setOrigin(0.5);

                updateStatus('Step 3: Text added, transitioning...');
                
                // Transition after 2 seconds
                this.time.delayedCall(2000, () => {
                    updateStatus('Step 4: Transitioning to PreloadScene');
                    this.scene.start('MinimalPreloadScene');
                });
            }
        }

        // Minimal PreloadScene
        class MinimalPreloadScene extends Phaser.Scene {
            constructor() {
                super('MinimalPreloadScene');
            }

            create() {
                updateStatus('Step 5: PreloadScene created');
                this.add.text(600, 400, 'Minimal Preload Scene Working!', {
                    fontSize: '32px',
                    fill: '#0f0'
                }).setOrigin(0.5);

                updateStatus('Step 6: All scenes working!');
            }
        }

        updateStatus('Step 0: Creating game config...');

        // Minimal game config
        const config = {
            type: Phaser.AUTO,
            width: 1200,
            height: 800,
            parent: 'game-container',
            backgroundColor: '#87ceeb',
            scene: [MinimalBootScene, MinimalPreloadScene]
        };

        updateStatus('Step -1: Starting Phaser game...');

        try {
            const game = new Phaser.Game(config);
            updateStatus('Step 0: Phaser game created successfully');
        } catch (error) {
            updateStatus('ERROR: ' + error.message);
        }
    </script>
</body>
</html>